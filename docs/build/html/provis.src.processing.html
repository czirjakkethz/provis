<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>provis.src.processing package &mdash; provis 0.0.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Utilities for Provis" href="provis.utils.html" />
    <link rel="prev" title="provis.src.plotting package" href="provis.src.plotting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> provis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="req.html">Requirements for Provis</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Download Provis</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html#setting-up-provis">Setting up Provis</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="provis.html">Provis</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="provis.src.html">Source Code</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="provis.src.plotting.html">provis.src.plotting package</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">provis.src.processing package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.data_handler">provis.src.processing.data_handler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.file_converter">provis.src.processing.file_converter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.name_checker">provis.src.processing.name_checker module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.protein">provis.src.processing.protein module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.residue">provis.src.processing.residue module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing.surface_handler">provis.src.processing.surface_handler module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-provis.src.processing">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="provis.src.html#module-provis.src">Module contents</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="provis.utils.html">Utilities for Provis</a></li>
<li class="toctree-l2"><a class="reference internal" href="provis.html#module-provis">Module contents</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Use and examples:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="information.html">Additional information about provis</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">How to use Provis</a></li>
<li class="toctree-l1"><a class="reference internal" href="example.html">Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="dynamic_plotting.html">Dynamic Structures</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Author(s)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Contact and motivation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">provis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="provis.html">Provis</a> &raquo;</li>
          <li><a href="provis.src.html">Source Code</a> &raquo;</li>
      <li>provis.src.processing package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/provis.src.processing.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="provis-src-processing-package">
<h1>provis.src.processing package<a class="headerlink" href="#provis-src-processing-package" title="Permalink to this headline"></a></h1>
<p>These classes constitute the “brain” of provis. All computation is done here (sometimes by calling the utils package).</p>
<p>The results/outputs of these classes are passed to the plotting classes for plotting.</p>
<section id="module-provis.src.processing.data_handler">
<span id="provis-src-processing-data-handler-module"></span><h2>provis.src.processing.data_handler module<a class="headerlink" href="#module-provis.src.processing.data_handler" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.data_handler.</span></span><span class="sig-name descname"><span class="pre">DataHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The ‘brain’ of provis, when it comes to handling atomic positions.</p>
<p>This class loads information from a variety of files and creates meshes to be plotted. 
Upper level classes - eg. Structure - use DataHandler objects to create the meshes.</p>
<p>The DataHandler class loads atom-positional information from a .pdb file and from this information computes the necessairy molecular structure mesh.
It also loads pre-defined dictionaries from atminfo.py, that encode the size, coloring and mass of a given atom or residue.
The member functions range from loading the atoms from the .pdb file and storing them by type, to creating the meshes from this information, as well as calculating bonds or the backbone.</p>
<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_atom_mesh">
<span class="sig-name descname"><span class="pre">get_atom_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_atom_mesh" title="Permalink to this definition"></a></dt>
<dd><p>Create a list of Shperes and colors representing each atom for plotting. Can later be added to a mesh for plotting.</p>
<p>The code in words:
Iterates through the atom_data dictionary by atom type (from get_atoms()).
It creates uniform Spheres (same size and color) in the position specified by the coordinates list for each atom type.
Also differentiates between Van der Waals and normal radii and handles unkown atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – atom_data - Dictionary of atoms and their coordinates, by atom type.</p></li>
<li><p><strong>type</strong> – dict</p></li>
<li><p><strong>name</strong> – vw, optional - When set to True Van-der-Waals atomic radii used instead of empirical radii. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – probe - size of probe (representing the solvent size) needed for surface calculation. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – phi_res - pyvista phi_resolution for Sphere objects representing atoms. Default: 10.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – theta_res - pyvista theta_resolution for Sphere objects representing atoms. Default: 10.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of pyvista Shperes representing each atom</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - List of colors corresponding to each atom</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of atom ID’s for each atom</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_atom_trimesh">
<span class="sig-name descname"><span class="pre">get_atom_trimesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">atom_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vw</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_atom_trimesh" title="Permalink to this definition"></a></dt>
<dd><p>Create a list of shperes and colors representing each atom for plotting in a Trimesh format. Used for feature computation in the surface_handler class.</p>
<p>The code in words:
Iterates through the atom_data dictionary by atom type (from get_atoms()).
It creates uniform Spheres (same size and color) in the position specified by the coordinates list for each atom type.
Also differentiates between Van der Waals and normal radii and handles unkown atoms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – atom_data - Dictionary of atoms and their coordinates, by atom type.</p></li>
<li><p><strong>type</strong> – dict</p></li>
<li><p><strong>name</strong> – vw, optional - When set to True Van-der-Waals atomic radii used instead of empirical radii. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – probe - size of probe (representing the solvent size) needed for surface calculation. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of pyvista Shperes representing each atom</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - List of colors for each atom</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of atom ID’s for each atom</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_atoms">
<span class="sig-name descname"><span class="pre">get_atoms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_solvent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_atoms" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dictionary that stores the 3D coordinates for each atom.
The dictionary keys are the atom names. For each atom type in the given molecule the coordinates of the atoms of this type are stored in a list within the dictionary.</p>
<p>The code in words:
The .pdb file (loaded in __init__()) is iterated through. For each atom it is checked if the type of this atom is already in the dictionary. 
If not then a new list is created with the coordinates of this atom and added to the dictionary with the name of the atom as the key.
If the name of this atom is already present then the coordinates of the current atom are added to the list of coordinates of this same type of atom.
The dictionary is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – show_solvent - If True solvent molecules also added to retrun dictionary. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict - Dictionary of atomic coordinates by atom type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_atoms_IDs">
<span class="sig-name descname"><span class="pre">get_atoms_IDs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_atoms_IDs" title="Permalink to this definition"></a></dt>
<dd><p>Get dictionary of atomic coordinates (same as get_atoms()) and residue IDs (format from output_pdb_as_xyzrn()) from the xyzrn file.
Also return a list of all the atomic coordinates in a list in the same order as in the .pdb file.</p>
<p>Used by the Surface class.</p>
<p>The code in words:
The .xyzrn file is loaded and is iterated through. The relevant fields are stored to temporary variables.
For each atom it is checked if the type of this atom is already in the dictionary. 
If not then a new list is created with the coordinates of this atom and added to the dictionary with the name of the atom as the key.
If the name of this atom is already present then the coordinates of the current atom are added to the list of coordinates of this same type of atom.
Regardless of the atom already being present in the dictionary the residue id and the coordinates are added to the two lists.
The dictionary and the two lists are returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict - Dictionary of atomic coordinates by atom type.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - List of unique residue IDs (format from output_pdb_as_xyzrn())</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - Atomic coordinates (in same order as the residue IDs)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_backbone_mesh">
<span class="sig-name descname"><span class="pre">get_backbone_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_backbone_mesh" title="Permalink to this definition"></a></dt>
<dd><p>Creates and returns a Spline object representing the backbone of the protein.</p>
<p>The code in words:
Iterates through the res_data dictionary by atom type (from get_residues()).
Calculates the center of each residue and returns these points as a numpy array.
(Later used to create a Spline.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>numpy.ndarray - List of coordinates representing the centre of mass of each residue. To be used in stick_point to create a Spline.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_bond_mesh">
<span class="sig-name descname"><span class="pre">get_bond_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_bond_mesh" title="Permalink to this definition"></a></dt>
<dd><p>Determine bonds from 3D information.</p>
<dl class="simple">
<dt>The color information is as follows:</dt><dd><p>White for all single bonds, 
Blue for all double bonds,
Green for all triple bonds,
Red for all amide bonds,
Purple for all aromatic bonds,
Black for everything else.</p>
</dd>
</dl>
<p>The code in words:
Parse mol2 file (also works on multi model file).
Find where the boundaries of the current molecule are in the file.
Extract the atomic and bond information by creating DataFrame.
From the DataFrames get the information corresponding to the current bond: create a pyvista.Line() and store the bond type.
Return the compiled lists of Lines and bond types (colors).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of pyvista lines representing each bond.</p>
</dd>
<dt class="field-odd">Retruns</dt>
<dd class="field-odd"><p>list - List of colors corresponding to the lines in the above list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_residue_info">
<span class="sig-name descname"><span class="pre">get_residue_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">option</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_residue_info" title="Permalink to this definition"></a></dt>
<dd><p>Calculates information about specified residue from mol2 file.
Depending on what is specified, either the center of mass (COM) or the charge is computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – res - Residue number of specified residue be looked at.</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – chain - Chain number of corresponding to residue be looked at.</p></li>
<li><p><strong>name</strong> – option - choose what property of residue you want. com for Centre Of Mass, ch for charge</p></li>
<li><p><strong>type</strong> – str - options: com, ch</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of COM coords of given (exact) residue.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_residue_mesh">
<span class="sig-name descname"><span class="pre">get_residue_mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">theta_res</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">25</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_residue_mesh" title="Permalink to this definition"></a></dt>
<dd><p>Create a list of Shperes and colors representing each residue for plotting. Can later be added to a mesh for plotting.</p>
<p>The code in words:
Iterates through the res_data dictionary by atom type (from get_residues()).
It creates uniform Spheres (same size and color) in the position specified by the coordinates list for each residue type.
Also differentiates between Van der Waals and normal radii and handles unkown residues.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – res_data - Dictionary of residues and their coordinates by residue type.</p></li>
<li><p><strong>type</strong> – dict</p></li>
<li><p><strong>name</strong> – phi_res - pyvista phi_resolution for Sphere objects representing residues. Defaul: 25.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – theta_res - pyvista theta_resolution for Sphere objects representing residues. Default:25.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - List of pyvista Shperes representing each residue</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - List of colors for each residue</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_residues">
<span class="sig-name descname"><span class="pre">get_residues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_solvent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_residues" title="Permalink to this definition"></a></dt>
<dd><p>Creates a dictionary of coordinates by residues from structure object</p>
<p>The code in words:
The .pdb file (loaded in __init__()) is iterated through. For each residue it is checked if the type of this residue is already in the dictionary. 
If not then a new list is created with the coordinates of this residue and added to the dictionary with the type of the residue as the key.
If the type of this residue is already present then the coordinates of the current residue are added to the list of coordinates of this same type of residue.
The coordinates of the residue are calculated as the arithmetic center of the coordinates.
The dictionary is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – show_solvent - If True solvent molecules also added to retrun dictionary. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict - Dictionary of atomic coordinates by residue type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.data_handler.DataHandler.get_structure">
<span class="sig-name descname"><span class="pre">get_structure</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.data_handler.DataHandler.get_structure" title="Permalink to this definition"></a></dt>
<dd><p>Return the loaded structure object</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>structure</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-provis.src.processing.file_converter">
<span id="provis-src-processing-file-converter-module"></span><h2>provis.src.processing.file_converter module<a class="headerlink" href="#module-provis.src.processing.file_converter" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.file_converter.</span></span><span class="sig-name descname"><span class="pre">FileConverter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convert_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to create and destroy necessary files required in other parts of code.
It has a bunch of member functions to call the binaries and scripts to convert the files.</p>
<p>Also has a cleanup function that removes everything in the “root_directory”/data/tmp (and data/img if specified) directory. Best practice is to call this function at the end of your main file.
However if you want to plot the same protein many times, then it is benificial to keep the temporary (data/tmp) files as if they exist provis will not recompute them.</p>
<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.cleanup">
<span class="sig-name descname"><span class="pre">cleanup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delete_img</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.cleanup" title="Permalink to this definition"></a></dt>
<dd><p>Deletes all files from data/tmp (and data/img) directories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – delete_img - If True data/img directory also cleared, else just the data/tmp. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.decompose_traj">
<span class="sig-name descname"><span class="pre">decompose_traj</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.decompose_traj" title="Permalink to this definition"></a></dt>
<dd><p>As the MSMS binary is unable to work with trajectory .pdb files the large .pdb file containing all models is decomposed to one for each model.</p>
<p>Only executes decomposition if the first file (“{pdb_file_name}_0.pdb”) does not exists to avoid unnecessairy recomputation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.msms">
<span class="sig-name descname"><span class="pre">msms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dens</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.msms" title="Permalink to this definition"></a></dt>
<dd><p>Run the msms binary for given filename.</p>
<p>It takes the {path}.xyzrn file as input and output is written to {path}_out_{dens}
Binary path is read in from environment variable: MSMS_BIN. If environment variable does not exist binary will be looked up in provis/binaries/msms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – path - Path to the/Name of the .xyzrn file to be converted.</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – dens - Density of triangulation</p></li>
<li><p><strong>type</strong> – float</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void - face and vert files</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.pdb_to_mol2">
<span class="sig-name descname"><span class="pre">pdb_to_mol2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.pdb_to_mol2" title="Permalink to this definition"></a></dt>
<dd><p>Run openbabel, to convert pdb to mol2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – path - Name of input (pdb) file (without extension)</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – outpath - Name of desired output file (without extension). It will add .mol2 to the given path.</p></li>
<li><p><strong>type</strong> – str</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.pdb_to_pqr">
<span class="sig-name descname"><span class="pre">pdb_to_pqr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">forcefield</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'swanson'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.pdb_to_pqr" title="Permalink to this definition"></a></dt>
<dd><p>Run pdb2pqr, to convert pdb to pqr</p>
<p>Binary path is read in from environment variable: PDB2PQR_BIN. If environment variable does not exist binary will be looked up in binaries/pdb2pqr/pdb2pqr.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – path - Name of input (pdb) file (without extension)</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – outpath - Name of desired output file (without extension). It will add .pqr to the given path.</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – forcefield - Force field used for charge computation, by binary. Default: swanson. Options: amber, charmm, parse, tyl06, peoepb and swanson</p></li>
<li><p><strong>type</strong> – str, optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.file_converter.FileConverter.pdb_to_xyzrn">
<span class="sig-name descname"><span class="pre">pdb_to_xyzrn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.file_converter.FileConverter.pdb_to_xyzrn" title="Permalink to this definition"></a></dt>
<dd><p>Converts .pdb to .xyzrn file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – path - Name of input (pdb) file (without extension)</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – output - Name of output (xyzrn) file (without extension)</p></li>
<li><p><strong>type</strong> – str</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void - xyzrn file</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-provis.src.processing.name_checker">
<span id="provis-src-processing-name-checker-module"></span><h2>provis.src.processing.name_checker module<a class="headerlink" href="#module-provis.src.processing.name_checker" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.name_checker.NameChecker">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.name_checker.</span></span><span class="sig-name descname"><span class="pre">NameChecker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.name_checker.NameChecker" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The point of this class is to provide uniform naming and path locations to all the other classes of provis.
NameChecker has internal variables and a method to return these variables.</p>
<p>Variables: 
self._pdb_name - Full path to the pdb file without the .pdb extension. Usually PROVIS_PATH/data/pdb/{pdb_id}.
self._out_path - Full path to the temporary files. The names of all temporary files are derived from this variable. Usually PROVIS_PATH/data/tmp/{pdb_id}.
self._base_path - Full path of the provis directory or any directory that has the following directory structure within: {path}/data/data, {path}/data/img, {path}/data/tmp, {path}/data/pdb.</p>
<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.name_checker.NameChecker.return_all">
<span class="sig-name descname"><span class="pre">return_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.name_checker.NameChecker.return_all" title="Permalink to this definition"></a></dt>
<dd><p>Return all class variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str - path to the input pdb id (file without the extension)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>str - path to the output pdb id - data/tmp/{pdb_id}</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>str - path to the root of the provis directory. Following file structure HAS TO exist within: {path}/data/data, {path}/data/img, {path}/data/tmp, {path}/data/pdb.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-provis.src.processing.protein">
<span id="provis-src-processing-protein-module"></span><h2>provis.src.processing.protein module<a class="headerlink" href="#module-provis.src.processing.protein" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.protein.Protein">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.protein.</span></span><span class="sig-name descname"><span class="pre">Protein</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_solvent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notebook</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.protein.Protein" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The protein class encapsulates every other class and creates a user friendly way to plot your desired protein molecules.</p>
<p>The desired properties of the protein can be plotted by first initializing a Protein class (eg. my_protein) and then calling the plotting functions of the Surface and Structure classes. 
For example: my_protein.structure.plot_atoms()</p>
</dd></dl>

</section>
<section id="module-provis.src.processing.residue">
<span id="provis-src-processing-residue-module"></span><h2>provis.src.processing.residue module<a class="headerlink" href="#module-provis.src.processing.residue" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.residue.Residue">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.residue.</span></span><span class="sig-name descname"><span class="pre">Residue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.residue.Residue" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Residue class is mainly used for plotting a bounding box around the given residue.</p>
<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.residue.Residue.add_residue">
<span class="sig-name descname"><span class="pre">add_residue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.residue.Residue.add_residue" title="Permalink to this definition"></a></dt>
<dd><p>Add a new residue to the internal list of residues.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – id - Residue id. Count starting at 0. Default: None.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – chain - Chain id. Count starting at 0. Specify which chain the residue is on. Default 0 (in case of single chain). Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.residue.Residue.get_res_info">
<span class="sig-name descname"><span class="pre">get_res_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.residue.Residue.get_res_info" title="Permalink to this definition"></a></dt>
<dd><p>Returns all internal information of class</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list - list of the current residues</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list - list of chain ID’s corresponding to residues</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>int - padding for bounding box</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.residue.Residue.remove_residue">
<span class="sig-name descname"><span class="pre">remove_residue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.residue.Residue.remove_residue" title="Permalink to this definition"></a></dt>
<dd><p>Remove speciefied residue from internal list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – id - Residue id. Count starting at 0. Default: None.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – chain - Chain id. Count starting at 0. Specify which chain the residue is on. Default 0 (in case of single chain). Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-provis.src.processing.surface_handler">
<span id="provis-src-processing-surface-handler-module"></span><h2>provis.src.processing.surface_handler module<a class="headerlink" href="#module-provis.src.processing.surface_handler" title="Permalink to this headline"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">provis.src.processing.surface_handler.</span></span><span class="sig-name descname"><span class="pre">SurfaceHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">density</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The ‘brain’ of provis, when it comes to handling surface information.</p>
<p>This class loads information from a variety of files and creates meshes to be plotted. 
Upper level classes - eg. StickPoint - have their own AtomHandler objects that do all the work.</p>
<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler.get_assignments">
<span class="sig-name descname"><span class="pre">get_assignments</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler.get_assignments" title="Permalink to this definition"></a></dt>
<dd><p>Get assignments (coloring) for the mesh. File has to exist, no way to produce it with provis. 
Loads “root directory”/data/tmp/{pdb_id}.pth and returns it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>PyTourch object - Coloring of surface.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler.get_surface_features">
<span class="sig-name descname"><span class="pre">get_surface_features</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mesh</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler.get_surface_features" title="Permalink to this definition"></a></dt>
<dd><p>Get the coloring corresponding to a specific feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – mesh - The mesh</p></li>
<li><p><strong>type</strong> – Trimesh</p></li>
<li><p><strong>name</strong> – feature - Name of feature we are interested in. Options: hydrophob, shape, charge.</p></li>
<li><p><strong>type</strong> – str</p></li>
<li><p><strong>name</strong> – native - Set to True when using native mesh computation. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p>NotImplementedError - If unkown feature specified error is raised</p>
</dd>
</dl>
<p>returns: numpy.ndarray - Array of coloring corresponding to surface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler.msms_mesh_and_color">
<span class="sig-name descname"><span class="pre">msms_mesh_and_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler.msms_mesh_and_color" title="Permalink to this definition"></a></dt>
<dd><p>Return the mesh and coloring ready for plotting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – feature - Name of feature, same as in get_surface_features. Options: hydrophob, shape, charge. Defaults to None.</p></li>
<li><p><strong>type</strong> – str, optional</p></li>
<li><p><strong>name</strong> – patch - Set coloring of mesh manually, from a file. If set to True get_assignments() will be called. Defaults to False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – num_models - Number of models in a trajectory. Only important for dynamic structures. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Trimesh - The mesh, always returned</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy.ndarray - Color map corresponding to specified feature. Only returned if a feature is specified as an input. This map can be passed to a pyvista.Plotter.add_mesh() function as the ‘scalars’ argument to get the encoded coloring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler.native_mesh_and_color">
<span class="sig-name descname"><span class="pre">native_mesh_and_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler.native_mesh_and_color" title="Permalink to this definition"></a></dt>
<dd><p>Returns a mesh without the need for the MSMS binary. The mesh and coloring is also saved to the following file names:
Mesh: “root directory”/data/meshes/{pdb_id}_{model_id}.obj
Color: “root directory”/data/meshes/{pdb_id}_{feature}_{model_id}
Always returns a pyvista.PolyData mesh of the surface and if a feature is specified it also returns the coloring according to that feature.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – feature - Name of feature, same as in get_surface_features. Options: hydrophob, shape, charge. Defaults to “”.</p></li>
<li><p><strong>type</strong> – str, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>pyvista.PolyData - The mesh, always returned</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy.ndarray - Color map corresponding to specified feature. Only returned if a feature is specified as an input. This map can be passed to a pyvista.Plotter.add_mesh() function as the ‘scalars’ argument to get the encoded coloring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="provis.src.processing.surface_handler.SurfaceHandler.return_mesh_and_color">
<span class="sig-name descname"><span class="pre">return_mesh_and_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feature</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">model_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_models</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.surface_handler.SurfaceHandler.return_mesh_and_color" title="Permalink to this definition"></a></dt>
<dd><p>Wrapper function to choose between the msms surface visualization vs the native surface visualization. 
If you could not download the MSMS binary leave this variable false and you will not run into problems.</p>
<p>If the mesh and appropriate coloring has already been stored to a file, then this information will be loaded and no computation will be done.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – msms - If true, surface generated by msms binary is returned, else the native mesh. Default: False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – feature - Name of feature, same as in get_surface_features. Options: hydrophob, shape, charge. Defaults to None.</p></li>
<li><p><strong>type</strong> – str, optional</p></li>
<li><p><strong>name</strong> – patch - Set coloring of mesh manually. If set to True get_assignments() will be called. Defaults to False.</p></li>
<li><p><strong>type</strong> – bool, optional</p></li>
<li><p><strong>name</strong> – model_id - The dynamic model ID of the desired molecule. Count starts at 0. Leave default value for static molecules. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
<li><p><strong>name</strong> – num_models - Number of models in a trajectory. Only important for dynamic structures. Default: 0.</p></li>
<li><p><strong>type</strong> – int, optional</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>trimesh.Trimesh - The mesh corresponding to the surface of the protein.</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>numpy.ndarray - Coloring map corresponding to specified feature.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-provis.src.processing">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-provis.src.processing" title="Permalink to this headline"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="provis.src.processing.get_residues">
<span class="sig-prename descclassname"><span class="pre">provis.src.processing.</span></span><span class="sig-name descname"><span class="pre">get_residues</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pdb_file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#provis.src.processing.get_residues" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="provis.src.plotting.html" class="btn btn-neutral float-left" title="provis.src.plotting package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="provis.utils.html" class="btn btn-neutral float-right" title="Utilities for Provis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Kristof Czirjak.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>